# Домашнее задание №3. CustomThreadPool

* [Части задания](#части-задания)
* [Пример результатов](#пример-результатов)
* [Пример результатов выполнения теста](#пример-результатов-выполнения-теста)

## Части задания
Требуется реализовать собственный пул потоков.
- [X] В качестве аргументов конструктора пулу передается его ёмкость (количество рабочих потоков).
Как только пул создан, он сразу инициализирует и запускает потоки. 
- [X] Внутри пула очередь задач на исполнение организуется через `LinkedList<Runnable>`. 
- [X] При выполнении у пула потоков метода `execute(Runnable task)`, указанная задача должна попасть в очередь
исполнения, и как только появится свободный поток – должна быть выполнена. 
- [X] Необходимо реализовать метод `shutdown()`, после выполнения которого новые задачи больше не принимаются пулом 
(при попытке добавить задачу, можно бросать `IllegalStateException`),
и все потоки, не имеющие больше задач, завершают свою работу. 
- [X] *Дополнительно можно добавить метод `awaitTermination()` без таймаута,
который будет работать аналогично стандартным пулам потоков.

## Пример результатов

```
=== Решение задачи с кастомным пулом потоков ===
Активных потоков: 3
Задач в очереди: 8
Задача 1 выполняется в CustomThreadPool-Worker-2
Задача 0 выполняется в CustomThreadPool-Worker-0
Задача 2 выполняется в CustomThreadPool-Worker-1
Задача 1 завершена
Задача 3 выполняется в CustomThreadPool-Worker-2
Задача 0 завершена
Задача 4 выполняется в CustomThreadPool-Worker-0
Задача 2 завершена
Задача 5 выполняется в CustomThreadPool-Worker-1
Задача 3 завершена
Задача 4 завершена
Задача 5 завершена
Задача 6 выполняется в CustomThreadPool-Worker-2
Задача 8 выполняется в CustomThreadPool-Worker-1
Задача 7 выполняется в CustomThreadPool-Worker-0
Задача 6 завершена
Задача 7 завершена
Задача 8 завершена
Задача 9 выполняется в CustomThreadPool-Worker-2
Задача 9 завершена
Все потоки завершены. Активных потоков: 0
=== Завершение задачи с кастомным пулом потоков ===
```

## Пример результатов выполнения теста

```
=== Тестирование выполнения метода shutdown() ===
Начальное состояние:
  isShutdown: false
  isTerminated: false
  Активных потоков: 2
  Задач в очереди: 0

После добавления задач:
  isShutdown: false
  isTerminated: false
  Активных потоков: 2
  Задач в очереди: 3

Вызываем shutdown()...
Сразу после shutdown():
  isShutdown: true
  isTerminated: false
  Активных потоков: 2
  Задач в очереди: 3

Отклоненная задача после завершения работы: ThreadPool завершает работу, новые задачи не принимаются

Ожидание завершения...Ваш звонок очень важен для нас
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 2, задач в очереди: 3
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 2, задач в очереди: 3
Длительная задача 0 выполнена
Длительная задача 1 выполнена
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 2, задач в очереди: 1
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 2, задач в очереди: 1
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 2, задач в очереди: 1
Длительная задача 2 выполнена
Длительная задача 3 выполнена
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 1, задач в очереди: 0
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 1, задач в очереди: 0
  [Мониторинг] isShutdown: true, isTerminated: false, активных потоков: 1, задач в очереди: 0
Длительная задача 4 выполнена

Финальное состояние:
  isShutdown: true
  isTerminated: true
  Активных потоков: 0
  Задач в очереди: 0
Завершёно
=== Завершение тестирования выполнения метода shutdown() ===
```